(()=>{var q=Object.create;var l=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var z=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty;var Q=(t,e,r)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var o=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var b=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Y(e))!J.call(t,s)&&s!==r&&l(t,s,{get:()=>e[s],enumerable:!(n=B(e,s))||n.enumerable});return t};var w=(t,e,r)=>(r=t!=null?q(z(t)):{},b(e||!t||!t.__esModule?l(r,"default",{value:t,enumerable:!0}):r,t)),X=t=>b(l({},"__esModule",{value:!0}),t);var x=(t,e,r)=>Q(t,typeof e!="symbol"?e+"":e,r);var _=o(()=>{});var C=o(()=>{_()});function a(t){return(...e)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${t}`])return window["@Neos:HostPluginAPI"][`@${t}`](...e);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var h=o(()=>{});var A=o(()=>{});var j=o(()=>{});var p=o(()=>{A();j()});var S=o(()=>{p()});var E=o(()=>{p();S()});var P,N=o(()=>{C();h();E();P=a("manifest")});var I=y((Ot,k)=>{h();k.exports=a("vendor")().React});var T=y((Et,W)=>{h();W.exports=a("NeosProjectPackages")().ReactUiComponents});var v=o(()=>{});async function H(t,e,r="GET"){return e&&r==="GET"&&(t=Object.keys(e).reduce((n,s)=>n+"&"+s+"="+encodeURIComponent(e[s]),t+"?")),fetch(t,{method:r,credentials:"include",body:e&&r==="POST"?JSON.stringify(e):void 0,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(n=>{if(n.status!==200)throw new Error(`The request failed with code ${n.status}: "${n.statusText}"`);return n.headers.get("Content-Type")?.includes("application/json")?n.json():n.text()})}var K=o(()=>{});async function D(){return H("/neos/service/data-source/shel-neos-healthcheck-environments")}var F=o(()=>{K()});function R(...t){return t.filter(e=>typeof e=="string"||typeof e=="boolean"&&e).join(" ").trim()}var V=o(()=>{});function c(t){if(typeof t=="string")return t;if(typeof t=="number")return t.toString();if(Array.isArray(t))return`[${t.map(c).join(", ")}]`;if(typeof t=="object"&&t!==null){let e="";Object.keys(t).forEach(r=>{typeof t[r]=="object"&&t[r]!==null?t[r]=c(t[r]):typeof t[r]=="string"?t[r]=t[r].replace(/\\n/g,`
`):typeof t[r]=="number"&&(t[r]=t[r].toString()),e+=`${r}: ${t[r]}
`}),t=e.trim()}return String(t)}var U=o(()=>{});var i,$,u,M=o(()=>{i=w(I()),$=w(T());v();F();V();U();u=class extends i.PureComponent{constructor(){super(...arguments);x(this,"state",{loading:!0,environments:{}})}componentDidMount(){D().then(({success:r,message:n,environments:s})=>{r||console.warn("Could not load application environments:",n),this.setState({loading:!1,environments:s})}).catch(r=>{this.setState({loading:!1})})}render(){let{environments:r}=this.state;return r&&Object.keys(r).length>0?i.default.createElement("div",{className:"health-check"},Object.keys(r).filter(n=>r[n].data.status!=="unavailable").sort((n,s)=>r[n].isCurrent?-1:1).map(n=>{let{label:s,icon:d,isCurrent:L,data:m}=r[n];return i.default.createElement("details",{className:R("health-check__item",L&&"health-check__item--current"),name:"health-check__items",key:s},i.default.createElement("summary",null,d?i.default.createElement($.Icon,{icon:d,padded:"right"}):"",s),i.default.createElement("table",null,Object.keys(m).map(f=>{let g=c(m[f]);return i.default.createElement("tr",{key:f},i.default.createElement("td",null,f.charAt(0).toUpperCase()+f.slice(1)),i.default.createElement("td",null,i.default.createElement("pre",{title:g},g)))})))})):null}}});var tt={};var G=o(()=>{N();M();P("Shel.Neos.HealthCheck:Plugin",{},t=>{t.get("containers").set("PrimaryToolbar/Left/Shel.Neos.HealthCheck.View",u)})});G();})();
