{
  "version": 3,
  "sources": ["../../node_modules/@neos-project/neos-ui-extensibility/src/manifest.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/registry/AbstractRegistry.ts", "../../node_modules/@neos-project/positional-array-sorter/src/positionalArraySorter.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/registry/SynchronousRegistry.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/registry/SynchronousMetaRegistry.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/registry/index.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/index.ts", "../../node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js", "../../node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js", "../../packages/HealthCheckView/src/Components/HealthCheckView.css", "../../packages/HealthCheckView/src/Helper/fetch.ts", "../../packages/HealthCheckView/src/Helper/endpoints.ts", "../../packages/HealthCheckView/src/Helper/classnames.ts", "../../packages/HealthCheckView/src/Helper/formatValue.ts", "../../packages/HealthCheckView/src/Components/HealthCheckView.tsx", "../../packages/HealthCheckView/src/manifest.ts", "../../packages/HealthCheckView/src/index.js"],
  "sourcesContent": [null, null, null, null, null, null, null, null, null, null, null, ".health-check {\n    display: flex;\n    flex-direction: column;\n    margin: 0 var(--spacing-Half);\n    background: var(--colors-ContrastDarker);\n\n    &:has(> .health-check__item[open]) .health-check__item {\n        display: flex;\n    }\n}\n\n.health-check__item {\n    color: white;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 0 var(--spacing-Full);\n    background: var(--colors-ContrastDark);\n\n    summary {\n        cursor: pointer;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        height: var(--spacing-GoldenUnit);\n    }\n\n    table {\n        margin: var(--spacing-Half) 0;\n\n        td {\n            vertical-align: top;\n        }\n\n        pre {\n            margin: 0;\n            padding-left: var(--spacing-Half);\n            overflow: hidden;\n            text-overflow: ellipsis;\n            max-width: 400px;\n        }\n    }\n\n    &:not(:first-child) {\n        display: none;\n        border-top: 1px solid var(--colors-ContrastDark);\n    }\n}\n\n.health-check__item--current {\n    background: var(--colors-PrimaryBlue);\n}\n\n.health-check__item--loading {\n    height: var(--spacing-GoldenUnit);\n    white-space: nowrap;\n    justify-content: center;\n}\n", "export async function fetchData<T = any>(endpoint: string, params?: Record<string, any>, method = 'GET'): Promise<T> {\n    if (params && method === 'GET') {\n        endpoint = Object.keys(params).reduce((url, key) => {\n            return url + '&' + key + '=' + encodeURIComponent(params[key]);\n        }, endpoint + '?');\n    }\n    return fetch(endpoint, {\n        method,\n        credentials: 'include',\n        body: params && method === 'POST' ? JSON.stringify(params) : undefined,\n        headers: {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n        },\n    }).then((response: Response) => {\n        if (response.status !== 200) {\n            throw new Error(`The request failed with code ${response.status}: \"${response.statusText}\"`);\n        }\n        if (response.headers.get('Content-Type')?.includes('application/json')) {\n            return response.json();\n        }\n        return response.text();\n    }) as Promise<T>;\n}\n", "import { fetchData } from './fetch';\n\nexport async function loadEnvironments() {\n    return fetchData<{\n        success: boolean;\n        message: string;\n        environments: HealthCheckEnvironments;\n    }>('/neos/service/data-source/shel-neos-healthcheck-environments');\n}\n", "export function classnames(...args: (string | boolean | null | undefined)[]): string {\n    return args\n        .filter((arg) => typeof arg === 'string' || (typeof arg === 'boolean' && arg))\n        .join(' ')\n        .trim();\n}\n", "export default function formatValue(value: any): string {\n    if (typeof value === 'string') {\n        return value;\n    }\n\n    if (typeof value === 'number') {\n        return value.toString();\n    }\n\n    if (Array.isArray(value)) {\n        return `[${value.map(formatValue).join(', ')}]`;\n    }\n\n    if (typeof value === 'object' && value !== null) {\n        // Pretty print JSON objects recursively\n        let output = '';\n        Object.keys(value).forEach((key) => {\n            if (typeof value[key] === 'object' && value[key] !== null) {\n                value[key] = formatValue(value[key]);\n            } else if (typeof value[key] === 'string') {\n                value[key] = value[key].replace(/\\\\n/g, '\\n');\n            } else if (typeof value[key] === 'number') {\n                value[key] = value[key].toString();\n            }\n            output += `${key}: ${value[key]}\\n`;\n        });\n        value = output.trim();\n    }\n\n    return String(value);\n}\n", "import React, { PureComponent } from 'react';\nimport { Icon } from '@neos-project/react-ui-components';\n\nimport './HealthCheckView.css';\nimport { loadEnvironments } from '../Helper/endpoints';\nimport { classnames } from '../Helper/classnames';\nimport formatValue from '../Helper/formatValue';\n\nexport class HealthCheckView extends PureComponent {\n    state = {\n        loading: true,\n        environments: {} as HealthCheckEnvironments,\n    };\n\n    componentDidMount() {\n        loadEnvironments()\n            .then(({ success, message, environments }) => {\n                this.setState({ loading: false, environments });\n            })\n            .catch((err) => {\n                this.setState({ loading: false });\n            });\n    }\n\n    render() {\n        const { environments } = this.state;\n\n        return (\n            <div className=\"health-check\">\n                {Object.keys(environments).length > 0 ? (\n                    Object.keys(environments)\n                        .filter((environment) => environments[environment].data.status !== 'unavailable')\n                        .sort((a, b) => (environments[a].isCurrent ? -1 : 1))\n                        .map((environment) => {\n                            const { label, icon, isCurrent, data } = environments[environment];\n                            return (\n                                <details\n                                    className={classnames(\n                                        'health-check__item',\n                                        isCurrent && 'health-check__item--current'\n                                    )}\n                                    name=\"health-check__items\"\n                                    key={label}\n                                >\n                                    <summary>\n                                        {icon ? <Icon icon={icon} padded=\"right\" /> : ''}\n                                        {label}\n                                    </summary>\n                                    <table>\n                                        {Object.keys(data).map((key) => {\n                                            const formattedValue = formatValue(data[key]);\n                                            return (\n                                                <tr key={key}>\n                                                    <td>{key.charAt(0).toUpperCase() + key.slice(1)}</td>\n                                                    <td>\n                                                        <pre title={formattedValue}>{formattedValue}</pre>\n                                                    </td>\n                                                </tr>\n                                            );\n                                        })}\n                                    </table>\n                                </details>\n                            );\n                        })\n                ) : (\n                    <div className=\"health-check__item health-check__item--loading\">Loading environments\u2026</div>\n                )}\n            </div>\n        );\n    }\n}\n", "import manifest from '@neos-project/neos-ui-extensibility';\nimport { HealthCheckView } from './Components/HealthCheckView';\n\nmanifest('Shel.Neos.HealthCheck:Plugin', {}, (globalRegistry) => {\n    const containerRegistry = globalRegistry.get('containers');\n    containerRegistry.set('PrimaryToolbar/Left/Shel.Neos.HealthCheck.View', HealthCheckView);\n});\n", "require('./manifest');\n"],
  "mappings": "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",
  "names": ["init_manifest", "__esmMin", "init_createConsumerApi", "__esmMin", "init_manifest", "readFromConsumerApi", "key", "args", "init_readFromConsumerApi", "__esmMin", "init_AbstractRegistry", "__esmMin", "init_positionalArraySorter", "__esmMin", "init_SynchronousRegistry", "__esmMin", "init_AbstractRegistry", "init_positionalArraySorter", "init_SynchronousMetaRegistry", "__esmMin", "init_SynchronousRegistry", "init_registry", "__esmMin", "init_SynchronousRegistry", "init_SynchronousMetaRegistry", "dist_default", "init_dist", "__esmMin", "init_createConsumerApi", "init_readFromConsumerApi", "init_registry", "readFromConsumerApi", "require_react", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "require_react_ui_components", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "init_HealthCheckView", "__esmMin", "fetchData", "endpoint", "params", "method", "url", "key", "response", "init_fetch", "__esmMin", "loadEnvironments", "fetchData", "init_endpoints", "__esmMin", "init_fetch", "classnames", "args", "arg", "init_classnames", "__esmMin", "formatValue", "value", "output", "key", "init_formatValue", "__esmMin", "import_react", "import_react_ui_components", "HealthCheckView", "init_HealthCheckView", "__esmMin", "init_endpoints", "init_classnames", "init_formatValue", "loadEnvironments", "success", "message", "environments", "err", "React", "environment", "a", "b", "label", "icon", "isCurrent", "data", "classnames", "key", "formattedValue", "formatValue", "manifest_exports", "init_manifest", "__esmMin", "init_dist", "init_HealthCheckView", "dist_default", "globalRegistry", "HealthCheckView"]
}
